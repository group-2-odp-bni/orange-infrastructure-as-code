# =============================================================================
# Ansible Inventory - Orange Wallet K3s Cluster
# =============================================================================
# Auto-generated by Terraform on deployment
# Region: asia-southeast1 (Singapore)
# =============================================================================

all:
  vars:
    ansible_user: ubuntu
    ansible_ssh_private_key_file: ~/.ssh/orange-wallet-key
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

    # K3s Configuration
    k3s_version: v1.28.5+k3s1
    k3s_token: "{{ lookup('env', 'K3S_TOKEN') | default('orange-wallet-k3s-token-' + ansible_date_time.epoch, true) }}"

    # Network Configuration
    cluster_cidr: 10.1.0.0/16
    service_cidr: 10.2.0.0/16

    # Load Balancer
    load_balancer_ip: 34.102.156.109

  children:
    k3s_cluster:
      children:
        k3s_master:
          hosts:
            orange-wallet-master:
              ansible_host: 136.110.34.24
              internal_ip: 10.0.0.8
              node_role: master

        k3s_workers:
          children:
            k3s_workers_stateless:
              hosts:
                orange-wallet-worker-1:
                  ansible_host: 34.124.160.54
                  internal_ip: 10.0.0.9
                  workload_type: stateless
                  machine_type: e2-medium

                orange-wallet-worker-2:
                  ansible_host: 34.158.32.213
                  internal_ip: 10.0.0.6
                  workload_type: stateless
                  machine_type: e2-medium

            k3s_workers_stateful:
              hosts:
                orange-wallet-worker-3:
                  ansible_host: 34.87.57.236
                  internal_ip: 10.0.0.7
                  workload_type: stateful
                  machine_type: e2-standard-2

# =============================================================================
# Host Groups Summary:
# =============================================================================
# k3s_master: Control plane node (1 node)
# k3s_workers_stateless: Application workload nodes (2 nodes)
# k3s_workers_stateful: Database workload node (1 node)
# k3s_workers: All worker nodes (3 nodes)
# k3s_cluster: All nodes (4 nodes)
# =============================================================================
